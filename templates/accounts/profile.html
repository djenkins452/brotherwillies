{% extends "base.html" %}
{% block title %}Profile - Brother Willies{% endblock %}

{% block content %}
<h1 class="page-title">Profile & Preferences</h1>

<div class="card mb-2">
    <div class="card-title">{{ user.username }}</div>
    <div class="text-sm text-muted">{{ user.email|default:"No email set" }}</div>
    <div class="mt-2 gap-row">
        <a href="/profile/my-model/" class="btn btn-secondary btn-sm">My Model</a>
        <a href="/profile/presets/" class="btn btn-secondary btn-sm">Presets</a>
        <a href="/profile/my-stats/" class="btn btn-secondary btn-sm">My Stats</a>
        <a href="/profile/performance/" class="btn btn-secondary btn-sm">Performance</a>
        <a href="/parlays/" class="btn btn-secondary btn-sm">Parlays</a>
    </div>
</div>

<p class="section-title">Preferences</p>
<div class="card">
    <form method="post">
        {% csrf_token %}
        {% for field in form %}
        <div class="form-group">
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
            {% if field.field.widget.input_type == 'checkbox' %}
            <div style="display:flex;align-items:center;gap:8px;">
                {{ field }}
                <span class="text-sm text-muted">{{ field.help_text }}</span>
            </div>
            {% else %}
            {{ field }}
            {% endif %}
            {% if field.errors %}
            {% for error in field.errors %}
            <div class="form-error">{{ error }}</div>
            {% endfor %}
            {% endif %}
        </div>
        {% endfor %}
        <button type="submit" class="btn btn-primary btn-block">Save Preferences</button>
    </form>
</div>

<div class="mt-3 text-center">
    <a href="/accounts/logout/" class="btn btn-secondary btn-sm">Log Out</a>
</div>
{% endblock %}
